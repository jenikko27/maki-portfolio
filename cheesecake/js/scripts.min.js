(function(h){function d(n,m){n=n.toString();return n.length<m?d("0"+n,m):n}jQuery.fn.extend({changeText:function b(m){return this.each(function(){var n=h(this);if(n.text()!==m){n.animate({opacity:0},200);setTimeout(function(){n.text(m);n.animate({opacity:1},200)},200)}})},changeTextUI:function c(o,n,m){if(typeof n==="undefined"){var n="fade"}if(typeof m==="undefined"){var m=400}return this.each(function(){var q=h(this);var p={fade:{name:"fade",show_attr:{},hide_attr:{}},counter:{name:"slide",show_attr:{direction:"down"},hide_attr:{direction:"up"}},slide_left:{name:"drop",show_attr:{direction:"left"},hide_attr:{direction:"right"}},drop_up:{name:"drop",show_attr:{direction:"up"},hide_attr:{direction:"down"}}};if(q.text()!==o){q.hide(p[n].name,p[n].show_attr,m/2);setTimeout(function(){q.text(o);q.show(p[n].name,p[n].hide_attr,m/2)},m/2)}})},changeCSS:function e(n,m){return this.each(function(){var o=h(this);if(o.css(n)!==m){o.animate({opacity:0},200);setTimeout(function(){o.css(n,m);o.animate({opacity:1},200)},200)}})}});function g(n){if(n&&n.length==7&&n[0]=="#"){var t=n;var t=t.substring(1);var o=parseInt(t,16);var q=o>>16&255;var p=o>>8&255;var m=o>>0&255;var s=0.2126*q+0.7152*p+0.0722*m;return s>80}else{console.log("Color Brightness: Invalid Color String");return 0}}function k(n,o){if(!HEX_REGEX.test(n)){throw Error("hex2rgba: first argument has invalid hexadecimal characters")}if(n[0]==="#"){n=n.slice(1)}if(n.length===HEX_SHORTHAND_LENGTH){n=n.split("");n.splice(2,0,n[2]);n.splice(1,0,n[1]);n.splice(0,0,n[0]);n=n.join("")}if(n.length!==HEX_LENGTH){throw Error("hex2rgba: first argument has invalid hexadecimal length")}var m=[parseInt(n.slice(0,2),BASE),parseInt(n.slice(2,4),BASE),parseInt(n.slice(4,6),BASE)];o=typeof o==="number"?o:parseFloat(o);if(o>=0&&o<=1){m.push(o)}else{m.push(1)}return"rgba("+m.join(",")+")"}h(function(){h(document).foundation();h("[data-onready]").each(function(){window[h(this).attr("data-onready")](this)});var m=h(window).width();if(m<768&&!h("body").hasClass("content-mobile-appear-disabled")||m>=768&&m<1024&&!h("body").hasClass("content-tablet-appear-disabled")||m>=1024&&!h("body").hasClass("content-appear-disabled")){h(window).on("startViewportChecker",function(){h([".layout-sections--scroll-normal .content-block",".flo_page > .content-block:not(:first-of-type):not(.disable-appear)",".content-footer",".to-appear",".to-appear--custom",".content-post.with-appear > *",".widget"].join(",")).viewportChecker({classToAdd:"visible",repeat:true,offset:40,invertBottomOffset:false})}).trigger("startViewportChecker")}h("input, textarea").on("verifyValue",function(){if(h(this).val()==""){h(this).addClass("empty")}else{h(this).removeClass("empty")}});h("input, textarea").trigger("verifyValue");h("input, textarea").on("keyup change",function(){h(this).trigger("verifyValue")})});function f(o){var n=o+"=";var m=document.cookie.split(";");for(var p=0;p<m.length;p++){var q=m[p];while(q.charAt(0)==" "){q=q.substring(1)}if(q.indexOf(n)===0){return q.substring(n.length,q.length)}}return""}function a(m){var n=h("html").css("font-size").replace("px","")/(h(window).width()/100);return m/(h(window).width()/100*n)+"rem"}window.newsletter_block_signup=function(){var n=h(".content-form--newsletter");if(n.length){n.parsley();var p=unescape(n.parent().find(".embed_code").text()),o=h("<div>").html(p);if(typeof o.find("form").attr("action")!=="undefined"){var m=o.find("form").attr("action").replace(/\\"/g,"");n.attr("action",m)}else{console.log("The mailchimp code is incorect")}}};var l=h(".content-footer__scroll-top");if(l.length){l.on("click",function(){h("html, body").animate({scrollTop:0},500)})}if(window.innerWidth<768){var i=h(".content-footer-copyrights-area__footer-menu");if(i.length){var j=i.find(".menu-item-has-children");if(j.length){j.on("click",function(n){var m=h(n.currentTarget);h(".mobile-open-dropdown").not(m).removeClass("mobile-open-dropdown");m.toggleClass("mobile-open-dropdown")})}}}window.floLazy=function(m){var p=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var o=h(m);o.on("load",function(q){q.currentTarget.style.opacity=1;q.currentTarget.style.filter="blur(0px)";if(p){p()}});o.viewportChecker({classToAdd:"loaded",offset:"-30%",invertBottomOffset:true,repeat:false,callbackFunction:function n(q){if(q.length){var r=q[0];if(r.hasAttribute("data-src")){r.src=r.dataset.src;r.removeAttribute("data-src")}if(r.hasAttribute("data-srcset")){r.srcset=r.dataset.srcset;r.removeAttribute("data-srcset")}}}})};window.image_lazyload=function(s){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var o;if("IntersectionObserver" in window){o=document.querySelectorAll(s);var r=function r(t,u){t.forEach(function(v){if(v.intersectionRatio>0){var w=v.target;w.classList.add("loaded");w.src=w.dataset.src;w.removeAttribute("data-src");if(w.dataset.srcset){w.srcset=w.dataset.srcset;w.removeAttribute("data-srcset")}q.unobserve(w);if(n){n(w)}}})};var q=new IntersectionObserver(r);o.forEach(function(t){q.observe(t)})}else{var m=function m(){if(p){clearTimeout(p)}p=setTimeout(function(){var t=window.pageYOffset;o.forEach(function(u){if(u.offsetTop<window.innerHeight+t){u.src=u.dataset.src;u.removeAttribute("data-src");if(u.dataset.srcset){u.srcset=u.dataset.srcset;u.removeAttribute("data-srcset")}u.classList.add("loaded");if(n){n(u)}}});if(o.length==0){document.removeEventListener("scroll",m);window.removeEventListener("resize",m);window.removeEventListener("orientationChange",m)}},20)};var p;o=document.querySelectorAll(s);document.addEventListener("scroll",m);window.addEventListener("resize",m);window.addEventListener("orientationChange",m)}};h(function(){h([".comments-block__top-bar-hide-button",".comments-block__top-bar-show-button",".comments-block__top-bar-toggle-button"].join(", ")).click(function(){h(".comments-block").toggleClass("comments-block--expanded").toggleClass("comments-block--collapsed");h(".comments-block__posts").slideToggle()})});h(function(){h(".page").on("submit",".content-form__built-in",function(o){o.preventDefault();var n=h(this),m=".contact-response";jQuery(".content-name").removeClass("invalid");jQuery(".content-email").removeClass("invalid");jQuery(m).html("");jQuery.ajax({url:ajaxurl,data:"&action=floSendContact&"+jQuery(n).serialize(),type:"POST",dataType:"json",success:function p(q){if(q.contact_name){jQuery(".content-name").addClass("invalid");jQuery(m).append(q.contact_name)}if(q.contact_email){jQuery(".content-email").addClass("invalid");jQuery(m).append(q.contact_email)}if(q.error_message){jQuery(m).append(q.error_message)}if(q.message){jQuery(".content-modal").fadeIn("slow");jQuery(n).find('input[type="text"], textarea').val("");setTimeout(function(){jQuery(".content-modal").fadeOut("slow")},3000)}}})});h("body").on("submit",".content-form__built-in-v2",function(n){n.preventDefault();var m=h(this);h("html, body").animate({scrollTop:m.offset().top},600);jQuery.ajax({url:ajaxurl,data:"&action=floSendContact&"+jQuery(m).serialize(),type:"POST",dataType:"json",success:function o(p){if(p.contact_name){jQuery(".content-name").parent().addClass("invalid")}if(p.contact_email){jQuery(".content-email").parent().addClass("invalid")}if(p.message){jQuery(".content-modal").fadeIn("slow");jQuery(m).find('input[type="text"], textarea').val("");setTimeout(function(){jQuery(".content-modal").fadeOut("slow")},3000)}}})});jQuery(".content-name, .content-email").on("keyup",function(){h(this).parent().removeClass("invalid")})});if(h(".content-block--merged-with-header").length){h("body header").first().remove()}window.flo_share_rollover=function(n){var m=h(n);var o=".content-share-rollover";m.find(o+"__trigger").click(function(){m.toggleClass("visible")})};h(function(){h(".content-video-embed").each(function(){var r=h(this);var o="content-video-embed--loaded";var s=r.find(".content-video-embed__screen");var p=s.attr("data-content-video-embed-embed-code");var m=r.find(".content-video-embed__video-button");var q=function q(){s.html(p);r.addClass(o)};var n=function n(){r.removeClass(o);s.html("")};m.on("click",function(t){t.preventDefault();switch(r.hasClass(o)){case false:q();break;case true:n();break}});r.on("floVideoEmbedStop",function(){n()})})});if(typeof fancybox!=="undefined"){h("[data-content-pop]").fancybox({baseClass:"content-fancybox-self-hosted",video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload"><source src="{{src}}" type="{{format}}" /></video>',format:"",autoStart:true}})}window.flo_block_comments=function(r){var p=h(r);var m="content-block-comments";var q="."+m;var o=p.find(q+"__trigger");var n=p.find(q+"__body");o.on("click",function(){n.slideToggle("slow",function(){if(n.hasClass(m+"__body-hidden")){n.removeClass(m+"__body-hidden")}});o.toggleClass(m+"__trigger-plus")})};window.flo_block_gallery_view_1=function(o){var w=h(o);var v="content-block-gallery-view-1";var r="."+v;var n=w.find(r+"__slider");var u=w.find(r+"__arrow--next");var t=w.find(r+"__arrow--prev");var m=w.find(r+"__counter");var p=true;var s=true;var q=false;if(w.find(r).hasClass(v+"--full-width")){p=false;s=false;q=true}n.on("beforeChange",function(D,C,B,y){if(m.length){var E=m.find("".concat(r,"__current-index"));var A=y+1;E.css("opacity",0);setTimeout(function(){E.text(A)},320)}var G=C.$slides.length-1;var x=B===G;var z=y===G;var F=w.find(r+"__slide.slick-current");if(x){F.next(".slick-slide").addClass("slick-clone-current")}if(z){F.prev(".slick-slide").addClass("slick-clone-current")}}).on("init afterChange",function(A,x,B,z){var y=w.find(".slick-current").find(".content-video-button");if(y.length&&!y.is(".background--dark, .background--light, .background--complex")){BackgroundCheck.refresh()}if(m.length&&A.type!=="init"){setTimeout(function(){m.find("".concat(r,"__current-index")).css("opacity",1)},250)}w.find(".slick-clone-current").removeClass("slick-clone-current")}).slick({slidesToShow:1,variableWidth:p,adaptiveHeight:false,rows:0,fade:q,cssEase:"linear",centerMode:s,speed:400,focusOnSelect:true,draggable:true,nextArrow:u,prevArrow:t,responsive:[{breakpoint:"767",settings:{centerMode:s}}]});if(w.find(".content-video-button").length){BackgroundCheck.init({targets:".content-video-button",images:r+"__slide-image"})}};window.flo_block_gallery_view_2=function(q){var o=h(q);var m="content-block-gallery-view-2";var p="."+m;var r=o.find(p);var n=!r[0].classList.contains(m+"--non-masonry");function s(){r.masonry({columnWidth:".grid-sizer",percentPosition:true})}h(window).on("resize",function(){return s()});window.image_lazyload(p+"__image-thumb");o.find(p+"__image-thumb").on("load",function(t){return s()});o.find(p+"__image").fancybox({baseClass:m+"__popup",loop:true,idleTime:false});if(o.find(".content-video-button").length){BackgroundCheck.init({targets:".content-video-button",images:p+"__image-thumb"})}};window.flo_block_listing_1=function(o){var m="content-block-listing-1";var n="."+m;window.floLazy("".concat(n,"__item-featured-image"))};window.flo_block_listing_3=function(o){var m="content-block-listing-3";var n="."+m;window.floLazy("".concat(n,"__featured-image"))};window.flo_block_listing_2=function(p){var n=h(p);var m="content-block-listing-2";var o="."+m;var q=n.find(o);var r=function r(){q.masonry({columnWidth:".grid-sizer",percentPosition:true})};setTimeout(function(){var s=n.find(o+"__featured-image");var t=h(window).width()>=768&&q.hasClass(m+"--masonry");s.each(function(v,u){var x=h(u).width();var w=h(u).attr("data-ratio");var y=x/w;h(u).css("height",y)});if(t){r()}s.each(function(v,u){return h(u).css("height","")});if(t){window.floLazy("".concat(o,"__featured-image"),r);h(window).on("resize",function(){return r()})}else{window.floLazy("".concat(o,"__featured-image"))}})};window.flo_block_slideshow_1=function(q){var o=h(q);var m="content-block-slideshow-1";var p="."+m;var r=o.find("".concat(p,"__slides"));var n=h("body");var t="--content-100vh";var s="100vh";document.documentElement.style.setProperty(t,s);window.onload=function(){s=window.innerHeight;document.documentElement.style.setProperty(t,"".concat(s,"px"));if(h(".content-splash").length){var u=h(".content-splash");u.css("opacity","0");setTimeout(function(){Foundation.Motion.animateOut(u,"fade-out");u.hide()},400)}};window.onresize=function(){document.documentElement.style.setProperty(t,"".concat(window.innerHeight,"px"))};r.on("init afterChange",function(x,w,z){if(x.type=="init"){z=0;window.floLazy("".concat(p,'__slide[data-slick-index="').concat(z,'"] ').concat(p,"__slide-img"))}var v=h(w.$slides[z].children[0]).attr("data-color");o.find(p).css({color:v,borderColor:v});var y=g(v);if(y){o.find(".content-header__logo").addClass("content-header__logo--is-light");setTimeout(function(){o.find(".content-header-mobile__logo").addClass("content-header-mobile__logo--light")})}else{o.find(".content-header__logo").removeClass("content-header__logo--is-light");setTimeout(function(){o.find(".content-header-mobile__logo").removeClass("content-header-mobile__logo--light")})}if(h(w.$slides[z]).hasClass("".concat(m,"__slide--background-video"))){if(h(w.$slides[z]).find("video").length){h(w.$slides[z]).find("video")[0].play()}}if(h(window).width()>767){setTimeout(function(){var A=h(w.$slides[z]).find("".concat(p,"__text-area"));A.css("opacity","1")},200)}var u=o.find(p+"__current-index");if(u.length){setTimeout(function(){u.text(z+1);u.fadeIn("50")},50)}}).on("beforeChange",function(v,u,y,w){window.floLazy("".concat(p,'__slide[data-slick-index="').concat(w,'"] ').concat(p,"__slide-img"));if(h(u.$slides[y]).hasClass("".concat(m,"__slide--background-video"))){if(h(u.$slides[y]).find("video").length){h(u.$slides[y]).find("video")[0].pause()}}if(h(window).width()>767){var x=h(u.$slides[y]).find("".concat(p,"__text-area"));x.css("opacity","0")}}).slick({arrows:true,rows:0,useTransform:false,prevArrow:o.find(p+"__arrow--prev"),nextArrow:o.find(p+"__arrow--next")});h(document).on("keydown",function(u){if(u.keyCode==37){r.slick("slickPrev")}if(u.keyCode==39){r.slick("slickNext")}})};window.flo_block_slideshow_2=function(o){var v=h(o);var t="content-block-slideshow-2";var r="."+t;var p=true;var q=false;var m=true;if(v.find(r).hasClass(t+"__height-auto")){p=false;q=true;m=false}var n=v.find("".concat(r,"__slides"));var u=n.data("slides");var s=u>5?5:2;if(h(window).width()<767){s=1}n.on("init afterChange",function(z,y,A){if(z.type=="init"){A=0}var x=h(y.$slides[A].children[0]).attr("data-color");v.find(r).css("color",x);if(h(y.$slides[A]).hasClass("".concat(t,"__slide--background-video"))){if(h(y.$slides[A]).find("video").length){h(y.$slides[A]).find("video")[0].play()}}if(h(window).width()>767){setTimeout(function(){var B=h(y.$slides[A]).find("".concat(r,"__text-area"));B.css("opacity","1")},200)}var w=v.find(r+"__current-index");if(w.length){setTimeout(function(){w.text(A+1);w.fadeIn("50")},50)}}).on("beforeChange",function(x,w,z){if(h(w.$slides[z]).hasClass("".concat(t,"__slide--background-video"))){if(h(w.$slides[z]).find("video").length){h(w.$slides[z]).find("video")[0].pause()}}if(h(window).width()>767){var y=h(w.$slides[z]).find("".concat(r,"__text-area"));y.css("opacity","0")}}).slick({arrows:true,rows:0,variableWidth:true,centerMode:true,slidesToShow:s,useTransform:false,prevArrow:v.find(r+"__arrow--prev"),nextArrow:v.find(r+"__arrow--next"),responsive:[{breakpoint:"767",settings:{variableWidth:p,centerMode:m,adaptiveHeight:q}}]});h(document).on("keydown",function(w){if(w.keyCode==37){n.slick("slickPrev")}if(w.keyCode==39){n.slick("slickNext")}})};h(function(){if(typeof fancybox!=="undefined"){h(".content-generic-fancybox-video").fancybox({iframe:{preload:false}})}});window.flo_footer=function(m){window.floLazy(".content-footer-instagram-area__image")};h(function(){var q="content-header";var s=h("."+q);var n=s.parents("header");var x="is-not-sticky";var w="is-sticky";h(".content-header").addClass(x);if(window.innerWidth>768){h("header.content-header--sticky .content-header").first().on("sticky-start",function(){h(this).removeClass(x);n.addClass(w)}).on("sticky-end",function(){h(this).addClass(x);n.removeClass(w);setTimeout(function(){h(this).sticky("update")},600)}).sticky({zIndex:9999,className:"is-sticky"})}if(window.outerWidth>=768){var m=new Foundation.DropdownMenu(h(".content-header:not(.content-header--type-c--dropdown) .menu-item-has-children ul"))}if(h(".content-header__menu-donor").length){var t=h(".content-header__menu-donor"),y=t.find("> div > ul"),u=y.children("li"),r=h(".content-header__menu--left > div > ul"),v=h(".content-header__menu--right > div > ul"),p=h(".content-header__menu-donor").find("div[class*='__search-wrap']"),o=h(".content-header__menu-donor").find(".content-header__header-translation-sidebar");u.each(function(A){var z=h(this),B=u.length;if(A<B/2){r.append(z)}if(A>=B/2){v.append(z)}if(p.length){r.prepend(p)}if(o.length){v.append(o)}if(A==B-1){t.remove()}})}h(".content-header__search-trigger").click(function(){h(this).parents(".content-header__search-wrap").toggleClass("content-header__search-wrap--open");if(h(this).parents(".content-header").hasClass("content-header--type-a")){h(this).parents(".content-header").toggleClass("content-header__menu-search-wrap--open")}h(this).parents(".content-header__menu-items").toggleClass("content-header__menu-search-wrap--open")});h(".content-block > .content-block__container > header").parents(".content-block").css("z-index","4")});h(function(){var m=h(".content-header-mobile");h(".content-header-mobile").appendTo(".content-block:first header");h(".content-header-mobile").css("visibility","visible");h(".content-header-mobile").first().addClass("not-sticky");h(".content-header-mobile.sticky").first().on("sticky-end",function(){h(this).addClass("not-sticky");setTimeout(function(){h(this).sticky("update")},400)}).on("sticky-start",function(){h(this).removeClass("not-sticky")}).sticky({zIndex:1000,className:"is-sticky",wrapperClassName:"content-header-mobile-sticky-wrapper"})});window.flo_mobile_menu=function(s){var p=h(s);var m="content-mobile-menu";var r="."+m;var q="body--content-mobile-menu-popup-opened";var o="body--content-mobile-menu-popup-closed";if(h(r).hasClass(m+"__type-b")){var n="body--content-mobile-menu-popup--type-b";h(r+"__type-b--closer").click(function(){h(r+"__close").trigger("click")})}h(".content-header-mobile__menu-trigger").on("click",function(){h("body").addClass(q).removeClass(o);if(h(r).hasClass(m+"__type-b")){h("body").addClass(n);h(".flo_page_wrap").css("max-height","100vh");setTimeout(function(){h(".flo_page_wrap").css({position:"fixed",width:"100vw"})},500)}});p.find(r+"__close").on("click",function(){h("body").removeClass(q).addClass(o);if(h(r).hasClass(m+"__type-b")){h("body").removeClass(n);setTimeout(function(){h(".flo_page_wrap").css({position:"",width:""});h(".flo_page_wrap").css("max-height","")},500);h(".flo_page_wrap").css("position","")}});p.find(r+"__menu > li.menu-item-has-children > a").append("<span class='content-mobile-menu__menu-dropdown-toggle'><i class='content-icon-arrow-small-right'></i></span>");p.on("click",r+"__menu-dropdown-toggle",function(t){t.preventDefault();h(this).parents("li").toggleClass("children-visible");h(this).parent().siblings(".sub-menu").slideToggle("slow")})};window.onload=function(){var m=h(".content-splash");m.css("opacity","0");setTimeout(function(){Foundation.Motion.animateOut(m,"fade-out");m.hide()},400)};window.flo_wp_content_block=function(o){var m="content-wp-content";var n="."+m;if(h("".concat(n)).hasClass("".concat(m,"--lazy-enabled"))){window.floLazy("".concat(n," img"));setTimeout(function(){window.floLazy(".nar-root-loaded img")},3000)}};h(function(){h(".content-core-style").each(function(){var o=h(this);var n=o.html();n=n.replace(/&lt;/g,"<").replace(/&gt;/g,">");h("head").append(n);o.remove()});var m=document.createElement("style");m.classList="content-core-fade-in";m.innerHTML="\n    body * {outline: solid transparent} \n    body {opacity: 1!important}\n  ";h(m).appendTo("head")})})(jQuery);